<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="Access-Control-Allow-Origin" content="*">
		<title>数据可视化</title>
		<link rel="stylesheet" type="text/css" href="css/index.css" />
	</head>

	<body>
		<!-- 头部盒子 -->
		<header>
			<h1>“您吃了么”外卖数据可视化</h1>
			<div class="showTime"></div>
			<script>
				// 格式：当前时间：2022年8月25日-15时11分14秒
				var t = null;
				t = setTimeout(time, 1000); // 开始运行
				function time() {
					clearTimeout(t); // 清除定时器
					dt = new Date();
					var y = dt.getFullYear();
					var mt = dt.getMonth() + 1;
					var day = dt.getDate();
					var h = dt.getHours();
					var m = dt.getMinutes();
					var s = dt.getSeconds();
					document.querySelector(".showTime").innerHTML = '当前时间：' + y + "年" + mt + "月" + day + "日-" + h + "时" + m + "分" +
						s + "秒";
					t = setTimeout(time, 1000); // 设定定时器，循环运行
				}
			</script>
		</header>

		<!-- 页面主体部分 -->
		<section class="mainbox">
			<div class="column">
				<div class="panel bar">
					<h2>柱形图-商品类型与商品数</h2>
					<div class="chart"></div>
				</div>
				<div class="panel line">
					<h2>折线图-新增用户
						<a href="javascript:;">2021</a>
						<a href="javascript:;">2022</a>
					</h2>
					<div class="chart"></div>
				</div>
			</div>
			<!-- 中间模块制作 -->
			<div class="column">
				<!-- no数字模块 -->
				<div class="no">
					<div id="d1" class="no-hd">
						<ul>
							<li>4321</li>
							<li>2333</li>
							<li>1234</li>
						</ul>
					</div>
					<div class="no-bd">
						<ul>
							<li>用户人数</li>
							<li>骑手人数</li>
							<li>商家数量</li>
						</ul>
					</div>
				</div>
				<!-- 地图模块 -->
				<div class="map">
					<div class="map1"></div>
					<div class="map2"></div>
					<div class="map3"></div>
					<div class="mapChart"></div>
				</div>
			</div>
			<div class="column">
				<div class="panel pie">
					<h2>饼形图-店铺地区分布</h2>
					<div class="chart"></div>
				</div>
				<div class="panel line2">
					<h2>折线图-每月订单情况</h2>
					<div class="chart"></div>
				</div>
			</div>
		</section>
		<script src="js/flexible.js"></script>
		<script src="js/echarts.js"></script>
		<script src="js/jquery1.12.4.js"></script>
		<script src="js/china.js"></script>
		<script src="js/myMap.js"></script>
		<script src="js/index.js"></script>
	</body>
	
	<script type="text/javascript">
		var userNum = 0;
		var riderNum = 0;
		var shopNum = 0;
		
		this.find();

		function find() {
			$.ajax({
				url: "http://localhost:9905/system/find",
				method: "post",
				headers: {

				},
				data: {

				},				
				success: function(re) {
					// json = JSON.parse(re)
					console.log(re)
					html="<ul>"
					html += "<li>'" + json.userNum + "'</li>"
					html += "<li>'" + json.riderNum + "'</li>"
					html += "<li>'" + json.shopNum + "'</li>"
					html+="</ul>"
					document.getElementById('d1').innerHTML = html
					// this.userNum = json.userNum
					// this.riderNum = json.riderNum
					// this.shopNum = json.shopNum
				},
				error: function() {
					console.log('错误')
				}
			});
		}
	</script>
</html>
